{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\el-descuevee-app\\\\CartContext.js\";\nimport React, { createContext, useState } from 'react';\nimport { getProduct } from \"./services/ProductsService.js\";\nexport var CartContext = createContext();\nexport function CartProvider(props) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      items = _useState2[0],\n      setItems = _useState2[1];\n\n  function addItemToCart(id) {\n    var product = getProduct(id);\n    setItems(function (prevItems) {\n      var item = prevItems.find(function (item) {\n        return item.id == id;\n      });\n\n      if (!item) {\n        return [].concat(_toConsumableArray(prevItems), [{\n          id: id,\n          qty: 1,\n          product: product,\n          totalPrice: product.price\n        }]);\n      } else {\n        return prevItems.map(function (item) {\n          if (item.id == id) {\n            item.qty++;\n            item.totalPrice += product.price;\n          }\n\n          return item;\n        });\n      }\n    });\n  }\n\n  function getItemsCount() {\n    return items.reduce(function (sum, item) {\n      return sum + item.qty;\n    }, 0);\n  }\n\n  function getTotalPrice() {\n    return items.reduce(function (sum, item) {\n      return sum + item.totalPrice;\n    }, 0);\n  }\n\n  return React.createElement(CartContext.Provider, {\n    value: {\n      items: items,\n      setItems: setItems,\n      getItemsCount: getItemsCount,\n      addItemToCart: addItemToCart,\n      getTotalPrice: getTotalPrice\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, props.children);\n}","map":{"version":3,"sources":["C:/xampp/htdocs/el-descuevee-app/CartContext.js"],"names":["React","createContext","useState","getProduct","CartContext","CartProvider","props","items","setItems","addItemToCart","id","product","prevItems","item","find","qty","totalPrice","price","map","getItemsCount","reduce","sum","getTotalPrice","children"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,aAAf,EAA8BC,QAA9B,QAA6C,OAA7C;AACA,SAASC,UAAT;AACA,OAAO,IAAMC,WAAW,GAAGH,aAAa,EAAjC;AACP,OAAO,SAASI,YAAT,CAAsBC,KAAtB,EAA6B;AAClC,kBAA0BJ,QAAQ,CAAC,EAAD,CAAlC;AAAA;AAAA,MAAOK,KAAP;AAAA,MAAcC,QAAd;;AAEA,WAASC,aAAT,CAAuBC,EAAvB,EAA2B;AACzB,QAAMC,OAAO,GAAGR,UAAU,CAACO,EAAD,CAA1B;AACAF,IAAAA,QAAQ,CAAC,UAACI,SAAD,EAAe;AACtB,UAAMC,IAAI,GAAGD,SAAS,CAACE,IAAV,CAAe,UAACD,IAAD;AAAA,eAAWA,IAAI,CAACH,EAAL,IAAWA,EAAtB;AAAA,OAAf,CAAb;;AACA,UAAG,CAACG,IAAJ,EAAU;AACN,4CAAWD,SAAX,IAAsB;AAClBF,UAAAA,EAAE,EAAFA,EADkB;AAElBK,UAAAA,GAAG,EAAE,CAFa;AAGlBJ,UAAAA,OAAO,EAAPA,OAHkB;AAIlBK,UAAAA,UAAU,EAAEL,OAAO,CAACM;AAJF,SAAtB;AAMH,OAPD,MAQK;AACD,eAAOL,SAAS,CAACM,GAAV,CAAc,UAACL,IAAD,EAAU;AAC7B,cAAGA,IAAI,CAACH,EAAL,IAAWA,EAAd,EAAkB;AAChBG,YAAAA,IAAI,CAACE,GAAL;AACAF,YAAAA,IAAI,CAACG,UAAL,IAAmBL,OAAO,CAACM,KAA3B;AACD;;AACD,iBAAOJ,IAAP;AACD,SANM,CAAP;AAOH;AACF,KAnBO,CAAR;AAoBH;;AACD,WAASM,aAAT,GAAyB;AACnB,WAAOZ,KAAK,CAACa,MAAN,CAAa,UAACC,GAAD,EAAMR,IAAN;AAAA,aAAgBQ,GAAG,GAAGR,IAAI,CAACE,GAA3B;AAAA,KAAb,EAA8C,CAA9C,CAAP;AACH;;AAED,WAASO,aAAT,GAAyB;AACrB,WAAOf,KAAK,CAACa,MAAN,CAAa,UAACC,GAAD,EAAMR,IAAN;AAAA,aAAgBQ,GAAG,GAAGR,IAAI,CAACG,UAA3B;AAAA,KAAb,EAAqD,CAArD,CAAP;AACH;;AAED,SACE,oBAAC,WAAD,CAAa,QAAb;AACE,IAAA,KAAK,EAAE;AAACT,MAAAA,KAAK,EAALA,KAAD;AAAQC,MAAAA,QAAQ,EAARA,QAAR;AAAkBW,MAAAA,aAAa,EAAbA,aAAlB;AAAiCV,MAAAA,aAAa,EAAbA,aAAjC;AAAgDa,MAAAA,aAAa,EAAbA;AAAhD,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEGhB,KAAK,CAACiB,QAFT,CADF;AAMD","sourcesContent":["import React, {createContext, useState} from 'react';\nimport { getProduct } from './services/ProductsService.js';\nexport const CartContext = createContext();\nexport function CartProvider(props) {\n  const [items, setItems] = useState([]);\n\n  function addItemToCart(id) {\n    const product = getProduct(id);\n    setItems((prevItems) => {\n      const item = prevItems.find((item) => (item.id == id));\n      if(!item) {\n          return [...prevItems, {\n              id,\n              qty: 1,\n              product,\n              totalPrice: product.price \n          }];\n      }\n      else { \n          return prevItems.map((item) => {\n            if(item.id == id) {\n              item.qty++;\n              item.totalPrice += product.price;\n            }\n            return item;\n          });\n      }\n    });\n}\nfunction getItemsCount() {\n      return items.reduce((sum, item) => (sum + item.qty), 0);\n  }\n\n  function getTotalPrice() {\n      return items.reduce((sum, item) => (sum + item.totalPrice), 0);\n  }  \n\n  return (\n    <CartContext.Provider \n      value={{items, setItems, getItemsCount, addItemToCart, getTotalPrice}}>\n      {props.children}\n    </CartContext.Provider>\n  );\n}"]},"metadata":{},"sourceType":"module"}